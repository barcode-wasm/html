<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barcode.WASM Easy-8-Steps</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; max-width: 900px; margin: 40px auto; padding: 20px; line-height: 1.6; }
        h1 { color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px; }
        h2 { color: #555; margin-top: 30px; }
        .result { margin: 20px 0; padding: 20px; background: #f8f9fa; border-radius: 8px; min-height: 100px; border: 1px solid #e0e0e0; }
        .result img, .result svg { max-width: 100%; height: auto; }
        .controls { display: flex; align-items: center; gap: 20px; flex-wrap: wrap; }
        button { padding: 12px 24px; font-size: 16px; cursor: pointer; background: #667eea; color: white; border: none; border-radius: 6px; }
        button:hover { background: #5a6fd6; }
        .radio-group { display: flex; gap: 16px; align-items: center; }
        .radio-group label { display: flex; align-items: center; gap: 4px; cursor: pointer; }
        pre { background: #1e1e1e; color: #d4d4d4; padding: 20px; border-radius: 8px; overflow-x: auto; font-size: 14px; }
        .step { color: #569cd6; font-weight: bold; }
        .comment { color: #6a9955; }
        .keyword { color: #c586c0; }
        .string { color: #ce9178; }
        .note { background: #fff3cd; border-left: 4px solid #ffc107; padding: 12px 16px; margin: 16px 0; border-radius: 0 6px 6px 0; }
        .tip { background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 12px 16px; margin: 16px 0; border-radius: 0 6px 6px 0; }
        a { color: #667eea; }
    </style>
</head>
<body>
    <h1>ğŸ”² Barcode.WASM Easy-8-Steps</h1>
    <p>Barcode.WASMã®ä½¿ã„æ–¹ã‚’<strong>ãŸã£ãŸ8ã‚¹ãƒ†ãƒƒãƒ—</strong>ã§ç†è§£ã§ãã‚‹ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚<br>
    ã¾ãšã¯ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>

    <h2>ğŸ¯ å‹•ä½œç¢ºèª</h2>
    <div class="controls">
        <button onclick="generate1D()">1æ¬¡å…ƒãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ</button>
        <button onclick="generate2D()">2æ¬¡å…ƒãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ</button>
        <div class="radio-group">
            <label><input type="radio" name="format" value="png" checked> PNG</label>
            <label><input type="radio" name="format" value="svg"> SVG</label>
        </div>
    </div>
    <div id="result" class="result">â³ WASMãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆæœŸåŒ–ä¸­...</div>

    <h2>ğŸ“ ã‚³ãƒ¼ãƒ‰è§£èª¬ï¼ˆ8ã‚¹ãƒ†ãƒƒãƒ—ï¼‰</h2>
    
    <div class="tip">
        ğŸ’¡ <strong>ãƒ’ãƒ³ãƒˆ</strong>: ã“ã®HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ã€ä¸‹è¨˜ã¨åŒã˜ã‚³ãƒ¼ãƒ‰ãŒå®Ÿéš›ã«å‹•ã„ã¦ã„ã¾ã™ã€‚
    </div>

    <pre><code><span class="comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
<span class="comment">//  1æ¬¡å…ƒãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®ä¾‹ï¼ˆCODE128ï¼‰</span>
<span class="comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>

<span class="step">// Step 1:</span> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
<span class="keyword">import</span> Module <span class="keyword">from</span> <span class="string">'./barcode.js'</span>;

<span class="step">// Step 2:</span> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åˆæœŸåŒ–ï¼ˆéåŒæœŸï¼‰
<span class="keyword">const</span> barcodeModule = <span class="keyword">await</span> Module();

<span class="step">// Step 3:</span> ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
<span class="keyword">const</span> barcode = <span class="keyword">new</span> barcodeModule.Code128();
<span class="comment">// â†‘ ä»–ã®ãƒãƒ¼ã‚³ãƒ¼ãƒ‰: Code39, Code93, Jan13, QR, DataMatrix ãªã©</span>

<span class="step">// Step 4:</span> æŒ‡å®šå¹…ã´ã£ãŸã‚Šèª¿æ•´ï¼ˆçœç•¥å¯ï¼‰
barcode.setFitWidth(<span class="keyword">true</span>);
<span class="comment">// â†‘ false ã«ã™ã‚‹ã¨ã€æŒ‡å®šå¹…ä»¥å†…ã§é«˜ç²¾åº¦ãªãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å‡ºåŠ›</span>

<span class="step">// Step 5:</span> å‡ºåŠ›å½¢å¼è¨­å®šï¼ˆçœç•¥å¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯PNGï¼‰
<span class="keyword">if</span> (isSvg) barcode.setOutputFormat(<span class="string">'svg'</span>);

<span class="step">// Step 6:</span> ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
<span class="keyword">const</span> result = barcode.draw(<span class="string">"Hello 12345"</span>, 400, 100);
<span class="comment">//                         â†‘ãƒ‡ãƒ¼ã‚¿      â†‘å¹…  â†‘é«˜ã•</span>

<span class="step">// Step 7:</span> HTMLã«è¡¨ç¤º
<span class="keyword">if</span> (isSvg) {
    element.innerHTML = result;                      <span class="comment">// SVG: ãã®ã¾ã¾æŒ¿å…¥</span>
} <span class="keyword">else</span> {
    element.innerHTML = <span class="string">'&lt;img src="'</span> + result + <span class="string">'"&gt;'</span>;  <span class="comment">// PNG: imgã‚¿ã‚°</span>
}

<span class="step">// Step 8:</span> ãƒ¡ãƒ¢ãƒªè§£æ”¾ï¼ˆé‡è¦ï¼ï¼‰
barcode.delete();
</code></pre>

    <div class="note">
        âš ï¸ <strong>é‡è¦</strong>: WASMã¯ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã•ã‚Œã¾ã›ã‚“ã€‚<code>delete()</code> ã‚’å¿˜ã‚Œã‚‹ã¨ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã—ã¾ã™ã€‚
    </div>

    <h2>ğŸ”„ ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã«ã¯</h2>
    
    <p><strong>Step 3</strong> ã®ã‚¯ãƒ©ã‚¹åã‚’å¤‰æ›´ã™ã‚‹ã ã‘ã§ã™ï¼š</p>

    <pre><code><span class="comment">// 1æ¬¡å…ƒãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã®ä¾‹</span>
<span class="keyword">new</span> barcodeModule.Code128()     <span class="comment">// CODE128ï¼ˆè‹±æ•°å­—ãƒ»è¨˜å·OKï¼‰</span>
<span class="keyword">new</span> barcodeModule.Code39()      <span class="comment">// CODE39ï¼ˆè‹±å¤§æ–‡å­—ãƒ»æ•°å­—ã®ã¿ï¼‰</span>
<span class="keyword">new</span> barcodeModule.Jan13()       <span class="comment">// JAN-13ï¼ˆæ•°å­—13æ¡ï¼‰</span>

<span class="comment">// 2æ¬¡å…ƒãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã®ä¾‹</span>
<span class="keyword">new</span> barcodeModule.QR()          <span class="comment">// QRã‚³ãƒ¼ãƒ‰</span>
<span class="keyword">new</span> barcodeModule.DataMatrix()  <span class="comment">// DataMatrix</span>
</code></pre>

    <div class="tip">
        ğŸ“– å…¨18ç¨®é¡ã®ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã¨è©³ç´°ãªAPIã¯ <a href="barcode.wasm.md"><strong>barcode.wasm.md</strong></a> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
    </div>

    <h2>ğŸ“‹ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ</h2>
    <pre><code>your-project/
â”œâ”€â”€ Easy-8-Steps.html   <span class="comment">â† ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã¾ãŸã¯ã‚ãªãŸã®HTMLï¼‰</span>
â”œâ”€â”€ barcode.js          <span class="comment">â† WASMãƒ­ãƒ¼ãƒ€ãƒ¼ï¼ˆå¿…é ˆï¼‰</span>
â””â”€â”€ barcode.wasm        <span class="comment">â† WASMãƒã‚¤ãƒŠãƒªï¼ˆå¿…é ˆï¼‰</span>
</code></pre>

    <!-- ========== å®Ÿéš›ã«å‹•ä½œã™ã‚‹ã‚³ãƒ¼ãƒ‰ ========== -->
    <script type="module">
        // Step 1: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
        import Module from './barcode.js';
        
        let barcodeModule = null;
        
        // Step 2: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åˆæœŸåŒ–
        try {
            barcodeModule = await Module();
            document.getElementById('result').textContent = 'âœ… æº–å‚™å®Œäº†ï¼ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„';
        } catch (error) {
            document.getElementById('result').textContent = 'âŒ åˆæœŸåŒ–å¤±æ•—: ' + error.message;
        }

        // å‡ºåŠ›å½¢å¼ã‚’å–å¾—
        function getOutputFormat() {
            return document.querySelector('input[name="format"]:checked').value;
        }

        // 1æ¬¡å…ƒãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼ˆCODE128ï¼‰
        window.generate1D = function() {
            if (!barcodeModule) { alert('åˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“'); return; }

            document.getElementById('result').innerHTML = '';
            const isSvg = getOutputFormat() === 'svg';

            // Step 3: ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
            const barcode = new barcodeModule.Code128();

            // Step 4: æŒ‡å®šå¹…ã´ã£ãŸã‚Šèª¿æ•´ï¼ˆçœç•¥å¯ï¼‰
            barcode.setFitWidth(true);

            // Step 5: å‡ºåŠ›å½¢å¼è¨­å®šï¼ˆçœç•¥å¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯PNGï¼‰
            if (isSvg) barcode.setOutputFormat('svg');

            // Step 6: ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
            const result = barcode.draw("Hello 12345", 400, 100);

            // Step 7: HTMLã«è¡¨ç¤º
            if (isSvg) {
                document.getElementById('result').innerHTML = result;
            } else {
                document.getElementById('result').innerHTML = '<img src="' + result + '">';
            }

            // Step 8: ãƒ¡ãƒ¢ãƒªè§£æ”¾ï¼ˆé‡è¦ï¼ï¼‰
            barcode.delete();
        }

        // 2æ¬¡å…ƒãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼ˆQRã‚³ãƒ¼ãƒ‰ï¼‰
        window.generate2D = function() {
            if (!barcodeModule) { alert('åˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“'); return; }

            document.getElementById('result').innerHTML = '';
            const isSvg = getOutputFormat() === 'svg';

            // Step 3: ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
            const barcode = new barcodeModule.QR();

            // Step 4: æŒ‡å®šå¹…ã´ã£ãŸã‚Šèª¿æ•´ï¼ˆçœç•¥å¯ï¼‰
            barcode.setFitWidth(true);

            // Step 5: å‡ºåŠ›å½¢å¼è¨­å®šï¼ˆçœç•¥å¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯PNGï¼‰
            if (isSvg) barcode.setOutputFormat('svg');

            // Step 6: ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼ˆ2æ¬¡å…ƒã¯ size ã®ã¿æŒ‡å®šï¼‰
            const result = barcode.draw("https://www.pao.ac/", 200);

            // Step 7: HTMLã«è¡¨ç¤º
            if (isSvg) {
                document.getElementById('result').innerHTML = result;
            } else {
                document.getElementById('result').innerHTML = '<img src="' + result + '">';
            }

            // Step 8: ãƒ¡ãƒ¢ãƒªè§£æ”¾ï¼ˆé‡è¦ï¼ï¼‰
            barcode.delete();
        }
    </script>
</body>
</html>